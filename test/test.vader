Given (an example of imports):
  package foo;
  
  import java.util.Arrays; 
  import java.util.List; 

  import org.apache.log4j.Logger;

  import org.apache.commons.lang3.StringUtils;

  public class FOO {
Execute (function to get the blocks):
  let blocks=imports#getblocks()
Then(Assert blocks are well defined):
  Assert stridx(blocks[0], "Arrays;") > -1
  Assert stridx(blocks[0], "java.util.List;") > -1
  Assert stridx(blocks[1], "Logger;") > -1
  Assert stridx(blocks[2], "StringUtils;") > -1
  Assert len(split(blocks[0], '#')) == 2

Given (some imports):
  package foo;
  
  import java.util.Arrays; 
  import java.util.List; 

  import org.apache.log4j.Logger;

  import org.apache.commons.lang3.StringUtils;

  public class FOO {
Execute (get import data):
  let imports = imports#import_data()
Then (import definition is accurate):
  Assert imports[0]['line'] == 3
  Assert imports[3]['line'] == 8
  Assert imports[0]['class'] == 'java.util.Arrays'
  Assert imports[3]['class'] == 'org.apache.commons.lang3.StringUtils'
   
Execute (define imports, select line):
  let imports = [{'line': 3, 'class': 'java.util.Arrays'}]
  call add(imports, {'line': 4, 'class': 'java.util.List'})
  let desc = imports#find_import_desc(imports, 'java.util.Deque')
  let desc_2 = imports#find_import_desc(imports, 'java.util.Set')
  let desc_3 = imports#find_import_desc(imports, 'org.slf4j.Logger')
Then (correct context returned):
  Assert desc['linebefore'] == 3
  Assert desc['appendemptyline'] == 0
  Assert desc_2['linebefore'] == 4
  Assert desc_3['appendemptyline'] == 1
  Assert desc_3['classtoinsert'] == 'org.slf4j.Logger'

Given (imports):
  package foo;
  import java.util.Arrays;
  import java.util.Dequeue;
  public class Foo {
Execute(insert imports correctly):
  call imports#insert_import_context({
    \ 'linebefore': 1,
    \ 'appendemptyline': 1,
    \ 'classtoinsert': 'org.junit.Ignore'
    \ })
  call imports#insert_import_context({
    \ 'linebefore': 5,
    \ 'appendemptyline': 0,
    \ 'classtoinsert': 'org.log4j.Logger'
    \ })
Expect:
  package foo;

  import org.junit.Ignore;
  import java.util.Arrays;
  import java.util.Dequeue;
  import org.log4j.Logger;
  public class Foo {

Given (current complete example):
  package current.complete.example;

  import java.util.Arrays;
  import java.util.Collections;
  import java.util.HashSet;

  public class CompleteClazz {
  }
Execute (get context, then insert):
  let import_context = imports#find_import_desc(imports#import_data(),
    \ 'java.util.Set')
  call imports#insert_import_context(import_context)
  let import_context = imports#find_import_desc(imports#import_data(),
    \ 'org.springframework.stereotype.Controller')
  call imports#insert_import_context(import_context)
  let import_context = imports#find_import_desc(imports#import_data(),
    \ 'org.slf4j.Logger')
  call imports#insert_import_context(import_context)
Expect (imports are inserted as expected):
  package current.complete.example;

  import java.util.Arrays;
  import java.util.Collections;
  import java.util.HashSet;
  import java.util.Set;

  import org.slf4j.Logger;

  import org.springframework.stereotype.Controller;

  public class CompleteClazz {
  }
